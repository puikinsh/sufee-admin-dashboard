System.register(["./main-legacy-DWi1AJ0X.js"],function(t,e){"use strict";return{setters:[null],execute:function(){document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("urlInput"),e=document.getElementById("loadBtn"),n=document.getElementById("refreshBtn"),s=document.getElementById("homeBtn"),o=document.getElementById("contentFrame"),a=document.getElementById("loadingIndicator"),i=document.getElementById("statusMessage"),r=document.querySelectorAll(".preset-btn");let c,l="/";function d(t,e="success"){i.textContent=t,i.className=`iframe-status ${e}`,i.style.display="block",setTimeout(()=>{i.style.display="none"},3e3)}function u(){a.style.display="flex",e.disabled=!0,e.innerHTML='<i class="fas fa-spinner fa-spin"></i> Loading...',c=setTimeout(()=>{m(),d("Loading timed out. The content may not be accessible.","error")},15e3)}function m(){a.style.display="none",e.disabled=!1,e.innerHTML='<i class="fas fa-play"></i> Load',c&&(clearTimeout(c),c=null)}function f(e){if(!e.trim())return void d("Please enter a valid URL","error");let n=e.trim();n.startsWith("http://")||n.startsWith("https://")||n.startsWith("/")||(n="https://"+n),function(t){try{return new URL(t),!0}catch(e){try{if(!t.startsWith("http://")&&!t.startsWith("https://")&&!t.startsWith("/"))return new URL("https://"+t),!0}catch(e){return!1}return!1}}(n)?(u(),l=n,t.value=n,o.src=n,console.log("Loading URL:",n)):d("Please enter a valid URL","error")}e.addEventListener("click",function(){f(t.value)}),n.addEventListener("click",function(){l&&(u(),o.src=l+(l.includes("?")?"&":"?")+"_t="+Date.now(),d("Content refreshed"))}),s.addEventListener("click",function(){f("/")}),r.forEach(t=>{t.addEventListener("click",function(){f(this.getAttribute("data-url"))})}),t.addEventListener("keydown",function(t){"Enter"===t.key&&(t.preventDefault(),f(this.value))}),o.addEventListener("load",function(){m();try{const t=this.contentDocument||this.contentWindow.document;if(t){const e=t.title;d(e?`Loaded: ${e}`:"Content loaded successfully")}else d("Content loaded successfully")}catch(t){d("Content loaded successfully")}}),o.addEventListener("error",function(){m(),d("Failed to load content. The URL may not be accessible.","error")}),window.addEventListener("message",function(t){console.log("Message from iframe:",t.data)}),u(),(o.complete||"complete"===o.readyState)&&m(),window.addEventListener("popstate",function(e){e.state&&e.state.iframeUrl&&(t.value=e.state.iframeUrl,f(e.state.iframeUrl))});const y=new URLSearchParams(window.location.search).get("url");y&&(t.value=y,f(y));const h=f;f=function(t){h(t),"/"!==t&&function(t){const e=`Frame: ${t}`;history.pushState({iframeUrl:t},e,window.location.pathname+"?url="+encodeURIComponent(t))}(t)}})}}});
//# sourceMappingURL=frame-legacy-C-auG6OH.js.map

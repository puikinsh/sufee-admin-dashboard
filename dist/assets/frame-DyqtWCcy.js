import"./main-BpvFxo3n.js";function w(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("urlInput"),i=document.getElementById("loadBtn"),h=document.getElementById("refreshBtn"),y=document.getElementById("homeBtn"),a=document.getElementById("contentFrame"),m=document.getElementById("loadingIndicator"),r=document.getElementById("statusMessage"),p=document.querySelectorAll(".preset-btn");let c="/",l;function n(t,e="success"){r.textContent=t,r.className="iframe-status ".concat(e),r.style.display="block",setTimeout(()=>{r.style.display="none"},3e3)}function u(){m.style.display="flex",i.disabled=!0,i.innerHTML='<i class="fas fa-spinner fa-spin"></i> Loading...',l=setTimeout(()=>{d(),n("Loading timed out. The content may not be accessible.","error")},15e3)}function d(){m.style.display="none",i.disabled=!1,i.innerHTML='<i class="fas fa-play"></i> Load',l&&(clearTimeout(l),l=null)}function L(t){try{return new URL(t),!0}catch(e){try{if(!t.startsWith("http://")&&!t.startsWith("https://")&&!t.startsWith("/"))return new URL("https://"+t),!0}catch(v){return!1}return!1}}function o(t){if(!t.trim()){n("Please enter a valid URL","error");return}let e=t.trim();if(!e.startsWith("http://")&&!e.startsWith("https://")&&!e.startsWith("/")&&(e="https://"+e),!L(e)){n("Please enter a valid URL","error");return}u(),c=e,s.value=e,a.src=e,console.log("Loading URL:",e)}i.addEventListener("click",function(){o(s.value)}),h.addEventListener("click",function(){c&&(u(),a.src=c+(c.includes("?")?"&":"?")+"_t="+Date.now(),n("Content refreshed"))}),y.addEventListener("click",function(){o("/")}),p.forEach(t=>{t.addEventListener("click",function(){const e=this.getAttribute("data-url");o(e)})}),s.addEventListener("keydown",function(t){t.key==="Enter"&&(t.preventDefault(),o(this.value))}),a.addEventListener("load",function(){d();try{const t=this.contentDocument||this.contentWindow.document;if(t){const e=t.title;n(e?"Loaded: ".concat(e):"Content loaded successfully")}else n("Content loaded successfully")}catch(t){n("Content loaded successfully")}}),a.addEventListener("error",function(){d(),n("Failed to load content. The URL may not be accessible.","error")}),window.addEventListener("message",function(t){console.log("Message from iframe:",t.data)}),u(),(a.complete||a.readyState==="complete")&&d(),window.addEventListener("popstate",function(t){t.state&&t.state.iframeUrl&&(s.value=t.state.iframeUrl,o(t.state.iframeUrl))});function g(t){const e="Frame: ".concat(t);history.pushState({iframeUrl:t},e,window.location.pathname+"?url="+encodeURIComponent(t))}const f=new URLSearchParams(window.location.search).get("url");f&&(s.value=f,o(f));const E=o;o=function(t){E(t),t!=="/"&&g(t)}});export{w as __vite_legacy_guard};
//# sourceMappingURL=frame-DyqtWCcy.js.map
